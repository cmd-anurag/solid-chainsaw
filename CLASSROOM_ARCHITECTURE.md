# Classroom System Architecture & Data Flow

## ðŸ“ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     FRONTEND (React)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  ClassroomDashboard (Main Page)                             â”‚
â”‚  â”œâ”€ ClassroomList Component                                 â”‚
â”‚  â”œâ”€ AssignmentList Component                                â”‚
â”‚  â””â”€ AssignmentDetail Component                              â”‚
â”‚                                                               â”‚
â”‚  Pages:                                                       â”‚
â”‚  â”œâ”€ /classrooms                  â†’ ClassroomDashboard       â”‚
â”‚  â”œâ”€ /classroom/:id               â†’ ClassroomDetail          â”‚
â”‚  â””â”€ /assignment/:id              â†’ AssignmentDetail         â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ API Calls
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  BACKEND (Express.js)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  Routes Layer                                                â”‚
â”‚  â”œâ”€ /api/classrooms         â†’ classroomRoutes              â”‚
â”‚  â”œâ”€ /api/assignments        â†’ assignmentRoutes             â”‚
â”‚  â””â”€ /api/submissions        â†’ submissionRoutes             â”‚
â”‚           â†“                                                   â”‚
â”‚  Controllers Layer                                            â”‚
â”‚  â”œâ”€ classroomController                                     â”‚
â”‚  â”‚  â”œâ”€ createClassroom()                                    â”‚
â”‚  â”‚  â”œâ”€ getTeacherClassrooms()                               â”‚
â”‚  â”‚  â”œâ”€ getStudentClassrooms()                               â”‚
â”‚  â”‚  â”œâ”€ addStudent()                                         â”‚
â”‚  â”‚  â””â”€ joinClassroom()                                      â”‚
â”‚  â”‚                                                            â”‚
â”‚  â”œâ”€ assignmentController                                    â”‚
â”‚  â”‚  â”œâ”€ createAssignment()                                   â”‚
â”‚  â”‚  â”œâ”€ publishAssignment()                                  â”‚
â”‚  â”‚  â”œâ”€ getClassroomAssignments()                            â”‚
â”‚  â”‚  â””â”€ closeAssignment()                                    â”‚
â”‚  â”‚                                                            â”‚
â”‚  â””â”€ submissionController                                    â”‚
â”‚     â”œâ”€ submitAssignment()                                   â”‚
â”‚     â”œâ”€ getAssignmentSubmissions()                           â”‚
â”‚     â”œâ”€ gradeSubmission()                                    â”‚
â”‚     â””â”€ getGradingSummary()                                  â”‚
â”‚           â†“                                                   â”‚
â”‚  Middleware Layer                                             â”‚
â”‚  â”œâ”€ authMiddleware (JWT verification)                       â”‚
â”‚  â””â”€ permissionMiddleware (role checking)                    â”‚
â”‚           â†“                                                   â”‚
â”‚  Models Layer                                                 â”‚
â”‚  â”œâ”€ Classroom Model                                         â”‚
â”‚  â”œâ”€ Assignment Model                                        â”‚
â”‚  â”œâ”€ Submission Model                                        â”‚
â”‚  â””â”€ User Model (existing)                                   â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              DATABASE (MongoDB)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  Collections:                                                â”‚
â”‚  â”œâ”€ classrooms (virtual learning spaces)                    â”‚
â”‚  â”œâ”€ assignments (tasks for students)                        â”‚
â”‚  â”œâ”€ submissions (student work + grades)                     â”‚
â”‚  â”œâ”€ users (existing, linked to everything)                 â”‚
â”‚  â””â”€ notifications (for alerts)                              â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ”„ Data Flow Diagrams

### Creating & Publishing Assignment

```
Teacher                    Frontend                Backend                Database
   â”‚                           â”‚                      â”‚                      â”‚
   â”œâ”€â”€Create Classroomâ”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚                      â”‚
   â”‚                           â”‚â”€â”€POST /classroomsâ”€â”€>â”‚                      â”‚
   â”‚                           â”‚                      â”œâ”€Generate Codeâ”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                           â”‚                      â”‚â”€Save Classroomâ”€â”€â”€â”€â”€â”€â”¤
   â”‚<â”€â”€â”€â”€â”€Return Codeâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚<â”€â”€â”€Return Objectâ”€â”€â”€â”€â”‚                      â”‚
   â”‚                           â”‚                      â”‚                      â”‚
   â”‚  (Share Code with Students)                      â”‚                      â”‚
   â”‚                           â”‚                      â”‚                      â”‚
   â”‚  Students receive code and join via              â”‚                      â”‚
   â”‚  POST /classrooms/join/code                      â”‚                      â”‚
   â”‚                           â”‚                      â”‚                      â”‚
   â”œâ”€â”€Create Assignmentâ”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚                      â”‚
   â”‚                           â”‚â”€POST /assignmentsâ”€â”€>â”‚                      â”‚
   â”‚                           â”‚  (status: draft)    â”œâ”€Save Assignmentâ”€â”€â”€â”€â”€â”¤
   â”‚<â”€â”€â”€Return Draftâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚<â”€â”€â”€Return Objectâ”€â”€â”€â”€â”‚                      â”‚
   â”‚                           â”‚                      â”‚                      â”‚
   â”œâ”€â”€Publish Assignmentâ”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚                      â”‚
   â”‚                           â”‚â”€PUT /publishâ”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚
   â”‚                           â”‚                      â”œâ”€Change statusâ”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                           â”‚                      â”œâ”€Create submissionsâ”¤
   â”‚                           â”‚                      â”‚  (for each student)  â”‚
   â”‚<â”€â”€â”€Return Publishedâ”€â”€â”€â”€â”€â”€â”€â”€â”‚<â”€â”€â”€Return Objectâ”€â”€â”€â”€â”‚                      â”‚
   â”‚                           â”‚                      â”‚                      â”‚
   â”‚  All Students Now See:     â”‚                      â”‚                      â”‚
   â”‚  â€¢ Published Assignment    â”‚                      â”‚                      â”‚
   â”‚  â€¢ Submit Button           â”‚                      â”‚                      â”‚
   â”‚  â€¢ Due Date & Points       â”‚                      â”‚                      â”‚
```

### Student Submission & Teacher Grading

```
Student                    Frontend                Backend                Database
   â”‚                           â”‚                      â”‚                      â”‚
   â”œâ”€â”€Submit Assignmentâ”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚                      â”‚
   â”‚                           â”‚â”€POST /submissionsâ”€->â”‚                      â”‚
   â”‚  (content: "My answer")   â”‚                      â”œâ”€Mark as submittedâ”€â”€â”€â”¤
   â”‚                           â”‚                      â”œâ”€Set submission timeâ”€â”¤
   â”‚                           â”‚                      â”œâ”€Check if lateâ”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚<â”€â”€â”€Confirmationâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚<â”€â”€â”€Return Objectâ”€â”€â”€â”€â”‚                      â”‚
   â”‚                           â”‚                      â”‚                      â”‚
   â”‚  (Waits for grading)       â”‚                      â”‚  Notify Teacher â”€â”€â”€â”€â”¤
   â”‚                           â”‚                      â”‚                      â”‚
   â”‚                                                  â”‚                      â”‚
   â”‚                                                  â”‚ Teacher sees        â”‚
   â”‚                                                  â”‚ notification        â”‚
   â”‚                                                  â”‚                      â”‚
   â”‚                       Teacher                    â”‚                      â”‚
   â”‚                           â”‚                      â”‚                      â”‚
   â”‚                           â”œâ”€â”€View Submissionsâ”€â”€â”€>â”‚                      â”‚
   â”‚                           â”‚  (/assignment/:id)  â”œâ”€Fetch allâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                           â”‚<â”€â”€â”€â”€Listâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚<â”€â”€Submissionsâ”€â”€â”€â”€â”€â”€â”¤
   â”‚                           â”‚                      â”‚                      â”‚
   â”‚                           â”œâ”€â”€Grade & Commentâ”€â”€â”€â”€>â”‚                      â”‚
   â”‚                           â”‚  PUT /grade         â”‚                      â”‚
   â”‚                           â”‚  grade: 85          â”œâ”€Save gradeâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                           â”‚  feedback: "Good"   â”œâ”€Mark as returnedâ”€â”€â”€â”€â”¤
   â”‚<â”€â”€â”€â”€â”€Notify studentâ”€â”€â”€â”€â”€â”€â”€â”€â”‚<â”€Confirmationâ”€â”€â”€â”€â”€â”€â”‚â”œâ”€Create notificationâ”¤
   â”‚  (Grade: 85/100)          â”‚                      â”‚                      â”‚
   â”‚                           â”‚                      â”‚  Notify Student â”€â”€â”€â”€â”¤
   â”‚                           â”‚                      â”‚                      â”‚
   â”œâ”€â”€View Grade/Feedbackâ”€â”€â”€â”€â”€>â”‚                      â”‚                      â”‚
   â”‚                           â”‚â”€GET /submission/:id>â”‚                      â”‚
   â”‚                           â”‚                      â”œâ”€Fetch with gradeâ”€â”€â”€â”¤
   â”‚<â”€â”€â”€Show Gradeâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚<â”€â”€Submission objâ”€â”€â”€â”€â”‚                      â”‚
   â”‚  â€¢ Grade: 85/100          â”‚                      â”‚                      â”‚
   â”‚  â€¢ Feedback: "Good"       â”‚                      â”‚                      â”‚
   â”‚  â€¢ Can Resubmit           â”‚                      â”‚                      â”‚
```

### Classroom & Student Management

```
Teacher                  Frontend              Backend           Database
   â”‚                        â”‚                    â”‚                  â”‚
   â”œâ”€List Classroomsâ”€â”€â”€â”€â”€â”€â”€>â”‚                    â”‚                  â”‚
   â”‚                        â”‚â”€GET /teacher/allâ”€â”€>â”‚                  â”‚
   â”‚                        â”‚                    â”œâ”€Find classroomsâ”€â”¤
   â”‚<â”€Show My Classesâ”€â”€â”€â”€â”€â”€â”€â”€â”‚<â”€â”€â”€â”€Responseâ”€â”€â”€â”€â”€â”€â”€â”‚  where teacher=me
   â”‚                        â”‚                    â”‚                  â”‚
   â”‚  â€¢ CS101                â”‚                    â”‚                  â”‚
   â”‚    - 30 students        â”‚                    â”‚                  â”‚
   â”‚    - Code: AB3F7C2D     â”‚                    â”‚                  â”‚
   â”‚                        â”‚                    â”‚                  â”‚
   â”œâ”€Open Classroomâ”€â”€â”€â”€â”€â”€â”€â”€>â”‚                    â”‚                  â”‚
   â”‚                        â”‚â”€GET /:idâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                  â”‚
   â”‚<â”€Full Detailsâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚<â”€â”€â”€â”€Classroomâ”€â”€â”€â”€â”€â”€â”‚<â”€Studentsâ”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚  â€¢ Name                â”‚                    â”‚                  â”‚
   â”‚  â€¢ Teacher             â”‚                    â”‚                  â”‚
   â”‚  â€¢ All Students        â”‚                    â”‚                  â”‚
   â”‚  â€¢ Status              â”‚                    â”‚                  â”‚
   â”‚                        â”‚                    â”‚                  â”‚
   â”œâ”€Add More Studentsâ”€â”€â”€â”€â”€>â”‚                    â”‚                  â”‚
   â”‚                        â”‚â”€POST /add-studentâ”€>â”‚                  â”‚
   â”‚                        â”‚  { studentId }    â”œâ”€Add to arrayâ”€â”€â”€â”€â”€â”¤
   â”‚<â”€Confirmationâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚<â”€â”€â”€â”€Responseâ”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
   â”‚                        â”‚                    â”‚                  â”‚
   â”‚  Student Now:          â”‚                    â”‚                  â”‚
   â”‚  â€¢ In class roster     â”‚                    â”‚                  â”‚
   â”‚  â€¢ Can see assignments â”‚                    â”‚                  â”‚
   â”‚  â€¢ Can submit work     â”‚                    â”‚                  â”‚
```

## ðŸŽ¯ Permission Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Action                   â”‚ Teacher â”‚ Student â”‚ Admin    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Create Classroom         â”‚ âœ…      â”‚ âŒ      â”‚ âœ…       â”‚
â”‚ Edit Own Classroom       â”‚ âœ…      â”‚ âŒ      â”‚ âœ…       â”‚
â”‚ Join Classroom (code)    â”‚ âŒ      â”‚ âœ…      â”‚ âœ…       â”‚
â”‚ View Own Classrooms      â”‚ âœ…      â”‚ âœ…      â”‚ âœ…       â”‚
â”‚ Add Student to Class     â”‚ âœ…      â”‚ âŒ      â”‚ âœ…       â”‚
â”‚ Remove Student from Classâ”‚ âœ…      â”‚ âŒ      â”‚ âœ…       â”‚
â”‚ Create Assignment        â”‚ âœ…      â”‚ âŒ      â”‚ âœ…       â”‚
â”‚ Edit Draft Assignment    â”‚ âœ…      â”‚ âŒ      â”‚ âœ…       â”‚
â”‚ Publish Assignment       â”‚ âœ…      â”‚ âŒ      â”‚ âœ…       â”‚
â”‚ Close Assignment         â”‚ âœ…      â”‚ âŒ      â”‚ âœ…       â”‚
â”‚ Delete Assignment        â”‚ âœ…      â”‚ âŒ      â”‚ âœ…       â”‚
â”‚ Submit Assignment        â”‚ âŒ      â”‚ âœ…      â”‚ âŒ       â”‚
â”‚ View Own Submission      â”‚ âœ…      â”‚ âœ…      â”‚ âœ…       â”‚
â”‚ View All Submissions     â”‚ âœ… *    â”‚ âŒ      â”‚ âœ…       â”‚
â”‚ Grade Submission         â”‚ âœ… *    â”‚ âŒ      â”‚ âœ…       â”‚
â”‚ Provide Feedback         â”‚ âœ… *    â”‚ âŒ      â”‚ âœ…       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

* Only for assignments they created
```

## ðŸ“Š Entity Relationship Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      User            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id (PK)            â”‚
â”‚ name                â”‚
â”‚ email               â”‚
â”‚ password            â”‚
â”‚ role (teacher/...)  â”‚
â”‚ department          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
     â”‚           â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Classroom          â”‚      â”‚   Assignment     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id (PK)            â”‚      â”‚ _id (PK)        â”‚
â”‚ name                â”‚      â”‚ title           â”‚
â”‚ description         â”‚      â”‚ description     â”‚
â”‚ section             â”‚      â”‚ classroom_id (FK)
â”‚ department          â”‚      â”‚ teacher_id (FK) â”‚
â”‚ teacher_id (FK) â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚ students: [User_id] â”‚      â”‚ dueDate         â”‚
â”‚ code (unique)       â”‚      â”‚ maxPoints       â”‚
â”‚ status              â”‚      â”‚ status          â”‚
â”‚ createdAt           â”‚      â”‚ createdAt       â”‚
â”‚ updatedAt           â”‚      â”‚ updatedAt       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                             â”‚
     â”‚ many-to-one                â”‚ one-to-many
     â”‚                             â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Submission      â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
              â”‚ _id (PK)         â”‚
              â”‚ assignment_id (FK)
              â”‚ student_id (FK)  â”‚
              â”‚ classroom_id (FK)â”‚
              â”‚ content          â”‚
              â”‚ attachments      â”‚
              â”‚ submittedAt      â”‚
              â”‚ isLate          â”‚
              â”‚ status          â”‚
              â”‚ grade           â”‚
              â”‚ feedback        â”‚
              â”‚ gradedAt        â”‚
              â”‚ gradedBy (FK)   â”‚
              â”‚ createdAt       â”‚
              â”‚ updatedAt       â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ” Request Flow with Authentication

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Browser (Client)                       â”‚
â”‚  â”œâ”€ Stores JWT token                    â”‚
â”‚  â””â”€ Sends token in request headers      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTP Request
                     â”‚ Authorization: Bearer {JWT_TOKEN}
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Express Server                         â”‚
â”‚  â”œâ”€ authMiddleware (JWT verify)         â”‚
â”‚  â”‚  â”œâ”€ Extract token from header        â”‚
â”‚  â”‚  â”œâ”€ Verify signature                 â”‚
â”‚  â”‚  â”œâ”€ Extract user ID & role           â”‚
â”‚  â”‚  â””â”€ Attach to req.user               â”‚
â”‚  â”‚                                      â”‚
â”‚  â”œâ”€ permissionMiddleware (role check)   â”‚
â”‚  â”‚  â”œâ”€ Check if role === 'teacher'     â”‚
â”‚  â”‚  â”œâ”€ Allow or deny access             â”‚
â”‚  â”‚                                      â”‚
â”‚  â”œâ”€ Controller                          â”‚
â”‚  â”‚  â”œâ”€ Verify ownership/permissions     â”‚
â”‚  â”‚  â”œâ”€ Execute business logic           â”‚
â”‚  â”‚  â””â”€ Return response                  â”‚
â”‚  â”‚                                      â”‚
â”‚  â””â”€ Database                            â”‚
â”‚     â””â”€ Execute query                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTP Response (JSON)
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Browser (Client)                       â”‚
â”‚  â””â”€ Update UI with response             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸš€ Status Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ASSIGNMENT LIFECYCLE                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CREATE
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚ DRAFT â”‚  â† Teacher editing
â””â”€â”¬â”€â”€â”€â”€â”€â”˜
  â”‚ Teacher clicks "Publish"
  â”‚ (System creates submission records)
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PUBLISHED â”‚  â† Students can submit
â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚ Teacher clicks "Close" or due date passes
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CLOSED â”‚  â† No new submissions accepted
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SUBMISSION LIFECYCLE                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CREATE (Auto on publish)
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚ DRAFT â”‚  â† Student saving work
â””â”€â”¬â”€â”€â”€â”€â”€â”˜
  â”‚ Student clicks "Submit"
  â”‚ (System sets submittedAt & checks isLate)
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚SUBMITTED â”‚  â† Awaiting teacher grade
â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚ Teacher grades and saves feedback
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RETURNED â”‚  â† Graded with feedback
â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚ Student can resubmit
  â”‚ (Back to SUBMITTED state)
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GRADED â”‚  â† Final submission (if no resubmit)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

This architecture supports the complete Google Classroom workflow! ðŸŽ“
